@inject IConfiguration Configuration
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <base href="/"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@700;800;900&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="@Assets["app.css"]"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@3.1.0/dist/cookieconsent.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Google Consent Mode v2 defaults (must come before gtag.js) -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', {
            'analytics_storage': 'denied'
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=@Configuration["GoogleAnalytics:MeasurementId"]"></script>
    <script>
        gtag('js', new Date());
        gtag('config', '@Configuration["GoogleAnalytics:MeasurementId"]');
    </script>
    <ImportMap/>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"/>
    <link rel="manifest" href="site.webmanifest"/>
    <script src="js/signature.js?v=2"></script>
    <HeadOutlet/>
</head>

<body>
<Routes/>
<script src="_framework/blazor.web.js"></script>
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@3.1.0/dist/cookieconsent.umd.js"></script>
<script>
    CookieConsent.run({
        categories: {
            necessary: { enabled: true, readOnly: true },
            analytics: {
                autoClear: {
                    cookies: [{ name: /^_ga/ }]
                }
            }
        },
        onFirstConsent: ({cookie}) => { updateGtagConsent(); },
        onConsent: ({cookie}) => { updateGtagConsent(); },
        onChange: ({cookie}) => { updateGtagConsent(); },
        language: {
            default: 'lt',
            translations: {
                lt: {
                    consentModal: {
                        title: 'Slapukai',
                        description: 'Naudojame slapukus svetainės veikimui užtikrinti ir lankytojų statistikai rinkti.',
                        acceptAllBtn: 'Sutinku su visais',
                        acceptNecessaryBtn: 'Tik būtinieji',
                        showPreferencesBtn: 'Nustatymai'
                    },
                    preferencesModal: {
                        title: 'Slapukų nustatymai',
                        acceptAllBtn: 'Sutinku su visais',
                        acceptNecessaryBtn: 'Tik būtinieji',
                        savePreferencesBtn: 'Išsaugoti',
                        sections: [
                            { title: 'Būtinieji slapukai', description: 'Reikalingi svetainės veikimui.', linkedCategory: 'necessary' },
                            { title: 'Analitiniai slapukai', description: 'Padeda suprasti, kaip lankytojai naudojasi svetaine.', linkedCategory: 'analytics' }
                        ]
                    }
                },
                en: {
                    consentModal: {
                        title: 'Cookies',
                        description: 'We use cookies for site functionality and to collect visitor statistics.',
                        acceptAllBtn: 'Accept all',
                        acceptNecessaryBtn: 'Only necessary',
                        showPreferencesBtn: 'Preferences'
                    },
                    preferencesModal: {
                        title: 'Cookie preferences',
                        acceptAllBtn: 'Accept all',
                        acceptNecessaryBtn: 'Only necessary',
                        savePreferencesBtn: 'Save',
                        sections: [
                            { title: 'Necessary cookies', description: 'Required for the website to function.', linkedCategory: 'necessary' },
                            { title: 'Analytics cookies', description: 'Help us understand how visitors use the site.', linkedCategory: 'analytics' }
                        ]
                    }
                }
            }
        }
    });

    function updateGtagConsent() {
        gtag('consent', 'update', {
            'analytics_storage': CookieConsent.acceptedCategory('analytics') ? 'granted' : 'denied'
        });
    }
</script>
</body>

</html>