@using AutoDokas.Services.EmailTemplates
@using AutoDokas.Extensions

<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Užpildykite pirkėjo informaciją</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f1f5f9; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; color: #1e293b; -webkit-font-smoothing: antialiased;">

    <!-- Outer wrapper -->
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="background-color: #f1f5f9;">
        <tr>
            <td align="center" style="padding: 40px 16px;">

                <!-- Email container -->
                <table role="presentation" width="600" cellpadding="0" cellspacing="0" style="max-width: 600px; width: 100%;">

                    <!-- Header -->
                    <tr>
                        <td style="background-color: #0f172a; padding: 24px 32px; border-radius: 12px 12px 0 0; text-align: center;">
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td style="font-size: 20px; font-weight: 700; color: #ffffff; letter-spacing: -0.01em;">
                                        AutoDokas
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Blue accent bar -->
                    <tr>
                        <td style="background-color: #2563eb; height: 3px; font-size: 0; line-height: 0;">&nbsp;</td>
                    </tr>

                    <!-- Body -->
                    <tr>
                        <td style="background-color: #ffffff; padding: 40px 32px;">

                            <!-- Greeting -->
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td style="font-size: 22px; font-weight: 800; color: #0f172a; letter-spacing: -0.02em; padding-bottom: 16px;">
                                        Sveiki!
                                    </td>
                                </tr>
                                <tr>
                                    <td style="font-size: 15px; color: #64748b; line-height: 1.65; padding-bottom: 28px;">
                                        Pardavėjas <strong style="color: #0f172a;">@(Model.Contract.SellerInfo?.Name ?? "-")</strong> sukūrė transporto priemonės pirkimo–pardavimo sutartį ir pakvietė Jus užpildyti pirkėjo informaciją.
                                    </td>
                                </tr>
                            </table>

                            <!-- Vehicle info card -->
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border: 1px solid #e2e8f0; border-radius: 10px; overflow: hidden; margin-bottom: 24px;">
                                <tr>
                                    <td style="background-color: #f8fafc; padding: 12px 20px; border-bottom: 1px solid #e2e8f0;">
                                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                            <tr>
                                                <td style="font-size: 13px; font-weight: 700; color: #0f172a;">
                                                    Transporto priemonės duomenys
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 0;">
                                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                            <tr>
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a; width: 45%; border-bottom: 1px solid #f1f5f9;">Markė</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b; border-bottom: 1px solid #f1f5f9;">@(Model.Contract.VehicleInfo?.Make ?? "-")</td>
                                            </tr>
                                            <tr style="background-color: #f8fafc;">
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a; border-bottom: 1px solid #f1f5f9;">Valstybinis numeris</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b; border-bottom: 1px solid #f1f5f9;">@(Model.Contract.VehicleInfo?.RegistrationNumber ?? "-")</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a; border-bottom: 1px solid #f1f5f9;">VIN</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b; border-bottom: 1px solid #f1f5f9;">@(Model.Contract.VehicleInfo?.IdentificationNumber ?? "-")</td>
                                            </tr>
                                            <tr style="background-color: #f8fafc;">
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a;">Rida</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b;">@(Model.Contract.VehicleInfo?.Millage.ToString() ?? "0") km</td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                            <!-- Payment info card -->
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border: 1px solid #e2e8f0; border-radius: 10px; overflow: hidden; margin-bottom: 28px;">
                                <tr>
                                    <td style="background-color: #f8fafc; padding: 12px 20px; border-bottom: 1px solid #e2e8f0;">
                                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                            <tr>
                                                <td style="font-size: 13px; font-weight: 700; color: #0f172a;">
                                                    Mokėjimo informacija
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 0;">
                                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                            <tr>
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a; width: 45%; border-bottom: 1px solid #f1f5f9;">Kaina</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b; font-weight: 700; border-bottom: 1px solid #f1f5f9;">@(Model.Contract.PaymentInfo?.Price.ToString("N2") ?? "0.00") €</td>
                                            </tr>
                                            <tr style="background-color: #f8fafc;">
                                                <td style="padding: 10px 20px; font-size: 12px; font-weight: 500; color: #0f172a;">Mokėjimo būdas</td>
                                                <td style="padding: 10px 20px; font-size: 13px; color: #1e293b;">
                                                    @if (Model.Contract.PaymentInfo?.PaymentMethod != null)
                                                    {
                                                        @Model.Contract.PaymentInfo.PaymentMethod.Value.GetDisplayName()
                                                    }
                                                    else
                                                    {
                                                        <span>-</span>
                                                    }
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                            <!-- CTA Button -->
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="margin-bottom: 28px;">
                                <tr>
                                    <td align="center">
                                        <a href="@($"{Model.BaseUrl}/buyer/{Model.Contract.Id}")"
                                           style="display: inline-block; background-color: #2563eb; color: #ffffff; text-decoration: none; font-weight: 600; font-size: 15px; padding: 14px 36px; border-radius: 8px; letter-spacing: -0.01em;">
                                            Užpildyti pirkėjo informaciją
                                        </a>
                                    </td>
                                </tr>
                            </table>

                            <!-- Secondary text -->
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td style="font-size: 13px; color: #94a3b8; line-height: 1.65; text-align: center;">
                                        Jei mygtukas neveikia, nukopijuokite šią nuorodą į naršyklę:
                                        <br>
                                        <a href="@($"{Model.BaseUrl}/contract/download/{Model.Contract.Id}")" style="color: #2563eb; text-decoration: underline; word-break: break-all;">
                                            @($"{Model.BaseUrl}/contract/download/{Model.Contract.Id}")
                                        </a>
                                    </td>
                                </tr>
                            </table>

                        </td>
                    </tr>

                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #0f172a; padding: 24px 32px; border-radius: 0 0 12px 12px;">
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td style="font-size: 13px; font-weight: 600; color: #ffffff; padding-bottom: 6px;">AutoDokas</td>
                                </tr>
                                <tr>
                                    <td style="font-size: 11px; color: #94a3b8; line-height: 1.5;">
                                        &copy; @DateTime.Now.Year AutoDokas. Visos teisės saugomos.
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                </table>

            </td>
        </tr>
    </table>

</body>
</html>

@code {
    [Parameter]
    public BuyerInviteInformationFillModel Model { get; set; } = null!;
}
